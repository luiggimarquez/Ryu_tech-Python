{% extends "index.html" %}
{% load static %}

{% block content %}

    <h2 class="text-lg-start shadow-sm p-3 mt-5 bg-body-tertiary rounded">Lista de Publicaciones</h2>

    {% if pages %}

    <div class="container-fluid listBlogs">
        <div class="row row-cols-1 row-cols-md-2 g-4">
            
            
            {% for data in pages %}
            <div class="col">
                <div class="card">

                    {% if data.imageMain %}
                        <img src="{{ data.imageMain.url }}" class="card-img-top img-fluid imgBlog" alt="imagen de {{data.title}}">
                    {% else %}
                        <img src="{% static 'images/no-image.jpg' %}" class="card-img-top img-fluid imgBlog" alt="imagen de {{data.title}}">
                    {% endif %}

                    <div class="card-body">
                    <h5 class="card-title">{{ data.title }}</h5>
                    <p class="card-text">{{ data.subtitle }}</p>
                    <a href="{% url 'details' data.id %}" class="btn btn-primary">Leer m√°s...</a>
                    <div>
                        <a href="{% url 'edit' data.id %}">Editar</a>
                        <a href="{% url 'delete' data.id %}">Eliminar</a>
                    </div>
                    </div>
                </div>
                <div class="card-footer">
                    {% if data.dateModified %}
                        <small class="text-body-secondary">Last updated: {{ data.dateModified }}</small>
                    {% else %}
                        <small class="text-body-secondary">Creado: {{ data.dateAdded}}</small>
                    {% endif %}
                </div>
            </div>
            {% endfor %}



        </div>
    </div>


    {% else %}

    <h2 class="text-lg-start shadow-sm p-3 mt-5 bg-body-tertiary rounded">Aun no tenemos publicaciones</h2>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <lottie-player src="../../../media/WO6lWf6E70.json"  background="transparent"  speed="1"  style="width: 1000px; height: 700px;"  loop  autoplay></lottie-player>

    {% endif %}


        
   

{% endblock %}
